@page "/form-with-validation"
@rendermode InteractiveServer

<h3>Cadastro de Alunos (Validação)</h3>

@* OnInvalidSubmit="TreatInvalidForm" -- Pode retirar porque o ValidationSummary e o ValidationMessage já mostram os erros automaticamente,
   esse OnInvalidSubmit é usado para tratamentos especiais.
*@

<EditForm Model="@student" OnValidSubmit="SendValidForm">
    <DataAnnotationsValidator />
    @* <ValidationSummary /> *@ 

    <div class="form-group">
        <label for="name">Nome:</label>
        <InputText id="name" @bind-Value="student.Name" class="form-control" />
        <ValidationMessage For="@(() => student.Name)" />
        <br />
    </div>

    <div class="form-group">
        <label for="email">Email:</label>
        <InputText id="email" @bind-Value="student.Email" class="form-control" />
        <ValidationMessage For="@(() => student.Email)" />
        <br />
    </div>

    <div class="form-group">
        <label for="age">Idade:</label>
        <InputNumber id="age" @bind-Value="student.Age" class="form-control" />
        <ValidationMessage For="@(() => student.Age)" />
        <br />
    </div>

    <div class="mt-2">
    <input type="submit" value="Send" class="btn btn-primary" />
    </div>
</EditForm>

@code {
    Student student = new();

    private void SendValidForm(EditContext args)
    {
        Console.WriteLine("Formulário Válido");
    }

    // private void TreatInvalidForm(EditContext args)
    // {
    //     Console.WriteLine("Formulário Inválido");
    // }
}
